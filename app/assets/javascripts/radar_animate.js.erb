// header h1 {
//    position: absolute;
//    top: 10px;
//    left: 15px;  
// }

window.onload = function() {
  console.log("Radar animate");

  var l1 = $("<img>").attr({src: "<%= asset_path('loop-1.png') %>"}).css({"position": "absolute", "z-index": "9998", "top": "10px", "left": "15px"});
  var l2 = $("<img>").attr("src", "<%= asset_path 'loop-2.png' %>").css({"position": "absolute", "z-index": "9998", "top": "10px", "left": "15px"});
  var l3 = $("<img>").attr("src", "<%= asset_path 'loop-3.png' %>").css({"position": "absolute", "z-index": "9998", "top": "10px", "left": "15px"});
  var l4 = $("<img>").attr("src", "<%= asset_path 'loop-4.png' %>").css({"position": "absolute", "z-index": "9998", "top": "10px", "left": "15px"});
  // z-index: 9998;
  var radar = $("header");
  _.each([l1,l2,l3,l4], function(loop) {
    radar.append(loop);
    loop.hide();
  });

  $("nav").mouseover(function() {
    console.log("MOUSEVER");

    function showLoop2(loop) {
      loop.show(500, function() {
        console.log("L3");
        $(this).hide(500);
      });
    }

    function showLoop(loop) {
      loop.show(500, function() {
        console.log("L2");
        $(this).hide(500);
        setTimeout(showLoop2(l3), 500);
      });
    }

    var loops = [l1,l2,l3,l4];

    l1.show(500, function() {
      console.log("L1");
      $(this).hide(500);
      setTimeout(showLoop(l2),500);
    });

    // setTimeout(showLoop(l3),500);

  });
}